import{j as s,u as _,a as x,r as c,o as h,l as j,b as k,c as N,O as v,s as I,d as b}from"./index-CEwAVsuK.js";const w="_notification_i567x_1",W="_notificationWrap_i567x_6",M="_icon_i567x_15",S="_dot_i567x_23",T="_blink_i567x_1",q="_shake_i567x_1",u={notification:w,notificationWrap:W,icon:M,dot:S,blink:T,shake:q},y=({theme:e})=>s.jsxs("div",{className:u.notification,children:[s.jsxs("div",{className:u.notificationWrap,children:[s.jsx("img",{className:u.icon,src:e==="dark"?"/assets/images/notificationWhite.png":"/assets/images/notification.png",alt:"notification"}),s.jsx("div",{className:u.dot})]}),s.jsx("div",{className:"notificationOuter",children:s.jsx("div",{className:"notificationBody"})})]}),D="_profileWrap_1oxcy_1",E="_profileImage_1oxcy_8",C="_proWrap_1oxcy_18",L="_dropDownMenu_1oxcy_24",$="_defaultImg_1oxcy_29",O="_logoutwrap_1oxcy_37",U="_logout_1oxcy_37",g={profileWrap:D,profileImage:E,proWrap:C,dropDownMenu:L,defaultImg:$,logoutwrap:O,logout:U},F="https://minio.liq.org/",P=()=>{const e=_(o=>o.auth.userDetails),t=_(o=>o.auth.token),r=x(),[a,l]=c.useState(!1);c.useEffect(()=>{t||r(h())},[]),c.useEffect(()=>{if(a){const o=n=>{!n.target.closest(".logoutwrap")&&!n.target.closest(".proWrap")&&l(!1)};return document.addEventListener("click",o),()=>{document.removeEventListener("click",o)}}},[a]);const d=()=>{t?l(!a):r(h())},p=()=>{r(j()),l(!1)};return s.jsxs("div",{className:g.profileWrap,children:[s.jsxs("div",{className:g.proWrap,children:[s.jsx("div",{onClick:d,className:`${g.profileImage} ${!(e!=null&&e.image)&&g.defaultImg}`,style:{backgroundImage:`url(${e!=null&&e.image?F+e.image:"/assets/images/userDefault.png"})`}}),s.jsx("div",{className:g.dropDownMenu,children:s.jsx("img",{src:"/assets/images/dropDownMenu.png",alt:""})})]}),a&&s.jsx("div",{className:"logoutwrap",children:s.jsxs("div",{className:g.logout,onClick:p,children:[s.jsx("img",{src:"/assets/images/logout.png",alt:"logout"}),"Logout"]})})]})},z="_header_1toaa_1",B="_left_1toaa_17",A="_pageIcon_1toaa_23",H="_pageText_1toaa_28",J="_pageSubText_1toaa_34",Q="_right_1toaa_42",R="_heightCompensator_1toaa_48",i={header:z,left:B,pageIcon:A,pageText:H,pageSubText:J,right:Q,heightCompensator:R},G="_questionsMark_9zohn_1",K="_questionsMarkIcon_9zohn_9",f={questionsMark:G,questionsMarkIcon:K},V=()=>s.jsx("div",{className:f.questionsMark,children:s.jsx("img",{src:"/assets/images/questions-mark.png",alt:"questions",className:f.questionsMarkIcon})}),X=()=>s.jsx(s.Fragment,{children:s.jsx("div",{className:i.heightCompensator,children:s.jsxs("header",{className:i.header,children:[s.jsxs("div",{className:i.left,children:[s.jsx("img",{className:i.pageIcon,src:"/assets/images/logo.png",alt:"logo"}),s.jsxs("div",{className:i.pageText,children:["Partner ",s.jsx("br",{})," Platform"]}),s.jsx("span",{className:i.pageSubText,children:"BETA Stage"})]}),s.jsxs("div",{className:i.right,children:[s.jsx(V,{}),s.jsx(y,{}),s.jsx(P,{})]})]})})}),Y=({containerRef:e})=>{const{pathname:t}=k();return c.useEffect(()=>{e.current&&e.current.scrollTo({top:0,behavior:"smooth"})},[t,e]),null},Z="_dashboard_2l7wr_1",m={dashboard:Z},es=()=>{const e=x(),t=_(d=>d.auth.token),r=c.useRef(null),a=N(),l=()=>{if(!t){const d=localStorage.getItem("token"),p=localStorage.getItem("user");let o={};try{const n=localStorage.getItem("userDet");n&&(o=JSON.parse(n))}catch(n){console.log("Failed to parse user details from localStorage:",n)}d&&(e(I({user:p,token:d})),e(b(o)))}};return c.useEffect(()=>{l()},[t]),c.useEffect(()=>{window.location.pathname==="/"&&a("/dashboard")},[a]),s.jsxs(s.Fragment,{children:[s.jsx(Y,{containerRef:r}),s.jsx("div",{className:m.desktopUi,ref:r,children:s.jsxs("div",{className:m.bodyWrap,children:[s.jsx(X,{}),s.jsx("main",{className:m.dashboard,children:s.jsx(v,{})})]})})]})};export{es as default};
